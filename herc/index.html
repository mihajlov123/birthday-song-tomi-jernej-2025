<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vse najboljše - Doktor Štroma</title>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f2f2f2;
      --text: #222;
      --card-bg: #ffffff;
      --accent: #4caf50;
      --muted: #666;
    }

    body.dark {
      --bg: #121212;
      --text: #f2f2f2;
      --card-bg: #1e1e1e;
      --accent: #81c784;
      --muted: #aaa;
    }

    body {
      margin: 0;
      padding: 2rem;
      font-family: 'Raleway', sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      transition: background 0.4s, color 0.4s;
    }

    .toggle-wrapper {
      position: absolute;
      top: 1rem;
      right: 1rem;
    }

    .toggle-switch {
      position: relative;
      width: 50px;
      height: 26px;
      background: var(--card-bg);
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 6px;
      transition: background 0.4s ease;
    }

    .toggle-switch svg {
      width: 16px;
      height: 16px;
      fill: var(--text);
      transition: opacity 0.4s ease;
    }

    .toggle-switch .sun {
      opacity: 1;
    }

    .toggle-switch .moon {
      opacity: 0;
    }

    body.dark .toggle-switch .sun {
      opacity: 0;
    }

    body.dark .toggle-switch .moon {
      opacity: 1;
    }

    .player-container {
      background: var(--card-bg);
      padding: 2.5rem;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
      max-width: 700px;
      width: 100%;
      text-align: center;
      transition: background 0.4s, color 0.4s;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 1.5rem;
    }

    .custom-audio-player {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 1.5rem;
    }

    .play-pause {
      background: var(--accent);
      border: none;
      color: white;
      font-size: 1.25rem;
      width: 42px;
      height: 42px;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .play-pause:hover {
      filter: brightness(1.1);
    }

    .progress-container {
      flex: 1;
      height: 8px;
      background: var(--muted);
      border-radius: 4px;
      cursor: pointer;
      position: relative;
      max-width: 400px;
    }

    .progress {
      height: 100%;
      background: var(--accent);
      width: 0%;
      border-radius: 4px;
    }

    .time {
      font-size: 0.9rem;
      color: var(--muted);
      min-width: 40px;
      text-align: center;
    }

    #volumeSlider {
      width: 80px;
    }

    .lyrics {
      font-size: 1rem;
      line-height: 1.8;
      color: var(--muted);
      white-space: pre-line;
      margin-top: 2rem;
    }

    @media (max-width: 600px) {
      .player-container {
        padding: 1.5rem;
      }

      h1 {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="toggle-wrapper">
    <div class="toggle-switch" id="modeToggle" title="Toggle dark/light mode">
      <svg class="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M6.76 4.84l-1.8-1.79-1.42 1.42 1.79 1.8 1.43-1.43zm10.45 14.31l1.79 1.8 1.42-1.42-1.8-1.79-1.41 1.41zm1.8-12.49l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM4.22 17.66l1.8 1.79 1.41-1.41-1.79-1.8-1.42 1.42zM12 4V1h-1v3h1zm0 19v-3h-1v3h1zm8-8h3v-1h-3v1zM4 12H1v-1h3v1zm8-5a5 5 0 1 1 0 10 5 5 0 0 1 0-10z"/>
      </svg>
      <svg class="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M21 12.79A9 9 0 0 1 11.21 3a7 7 0 1 0 9.79 9.79z"/>
      </svg>
    </div>
  </div>

  <div class="player-container">
    <h1>Doktor Štroma</h1>

    <audio id="audio" preload="metadata">
      <source src="NOT_READY_doktor-stroma.mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>

    <div class="custom-audio-player">
      <button class="play-pause" id="playPauseBtn">►</button>
      <div class="progress-container" id="progressContainer">
        <div class="progress" id="progress"></div>
      </div>
      <span class="time" id="currentTime">0:00</span> / <span class="time" id="duration">0:00</span>
      <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1">
    </div>

    <div class="lyrics">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit.  
      Donec hendrerit, elit in fermentum gravida, justo purus laoreet libero.  
      Nulla facilisi, morbi non arcu vitae quam placerat rutrum.  
      
      Pellentesque habitant morbi tristique senectus et netus.  
      Vivamus fringilla erat sed tellus lacinia, ut luctus ex pretium.  
      Fusce in metus quis nisl tincidunt accumsan.  
      
      Aliquam erat volutpat. Curabitur id sem ut purus gravida bibendum.  
      Quisque eget nulla a lorem malesuada dapibus.
    </div>
  </div>

  <script>
    const toggle = document.getElementById('modeToggle');
    const body = document.body;

    toggle.addEventListener('click', () => {
      body.classList.toggle('dark');
    });

    const audio = document.getElementById('audio');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const progress = document.getElementById('progress');
    const progressContainer = document.getElementById('progressContainer');
    const currentTimeEl = document.getElementById('currentTime');
    const durationEl = document.getElementById('duration');
    const volumeSlider = document.getElementById('volumeSlider');

    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60).toString().padStart(2, '0');
      return `${minutes}:${secs}`;
    }

    audio.addEventListener('loadedmetadata', () => {
      durationEl.textContent = formatTime(audio.duration);
    });

    audio.addEventListener('timeupdate', () => {
      const percent = (audio.currentTime / audio.duration) * 100;
      progress.style.width = `${percent}%`;
      currentTimeEl.textContent = formatTime(audio.currentTime);
    });

    playPauseBtn.addEventListener('click', () => {
      if (audio.paused) {
        audio.play();
        playPauseBtn.textContent = '❚❚';
      } else {
        audio.pause();
        playPauseBtn.textContent = '►';
      }
    });

    progressContainer.addEventListener('click', (e) => {
      const width = progressContainer.clientWidth;
      const clickX = e.offsetX;
      audio.currentTime = (clickX / width) * audio.duration;
    });

    volumeSlider.addEventListener('input', () => {
      audio.volume = volumeSlider.value;
    });
  </script>
</body>
</html>
